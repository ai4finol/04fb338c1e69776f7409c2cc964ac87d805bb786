<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Echarts Bar Chart</title>
  <style>
    #chartContainer {
      width: 600px;
      height: 400px;
    }
  </style>
</head>
<body>
  <div id="chartContainer"></div>

  <script src="echarts.min.js"></script>
  <script>
    // 3. 使用Echarts读取CSV数据并创建柱状图
    var chartContainer = document.getElementById('chartContainer');
    var myChart = echarts.init(chartContainer);

    // 读取CSV文件
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'test.csv', true);
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status === 200) {
        var csvData = xhr.responseText;
        var lines = csvData.split('\n');
        var xAxisData = lines[0].split(','); // 第一行为x坐标
        var seriesData = lines[1].split(','); // 第二行为数据

        // 创建柱状图配置
        var option = {
          xAxis: {
            type: 'category',
            data: xAxisData
          },
          yAxis: {
            type: 'value'
          },
          series: [{
            data: seriesData,
            type: 'bar'
          }]
        };

        // 使用配置生成图表
        myChart.setOption(option);
      }
    };
    xhr.send();
  </script>
</body>
</html>